# J01组 项目需求规格说明书

> J01 组 李云轩 罗成 赵伊书杰 周彦如

## 目录：

##### 1.引言

​	1.1 目的

​	1.2 范围

​	1.3 定义、缩写词与简写

​	1.4 参考文献

​	1.5 内容组织

##### 2.综合描述

​	2.1 产品前景

​	2.2 产品功能

​	2.3 用户特征

​	2.4 一般性限制

​	2.5 假设和依赖

##### 3.详细需求

​	3.1 功能需求

​	3.2 外部接口需求

​	3.3 性能需求

​	3.4 质量属性

​	3.5 其他需求

​	

## 1.引言

### 1.1 目的

​	本文档对产品进行定义，在该文档中详尽说明了这个产品的软件需求，包括修正或发行版本号。

### 1.2 范围

​	软件Contest+的目标为：面向大学生竞赛的组织者和参加者，提供一个方便稳定的服务平台。详见产品定义文档。

​	对于开发者的目标为：完成软件工程课程项目，积累软件开发方面的经验。

### 1.3 定义，缩写词与简写

​	定义详见需求部分。

### 1.4 参考文献

​	1. [SRS  IEEE 830 - 1998 ](https://wenku.baidu.com/view/0fc139d5240c844769eaeeae.html) 

### 1.5 内容组织

​	本文档正文包括产品的综合描述和详细需求等两个部分。综合描述部分包括产品的前景，功能，用户的特征，一般性限制、假设和依赖等部分；详细需求部分包括功能需求，外部接口需求，性能需求，质量属性和其他需求等。此外还有目录，索引等信息方便读者查阅。

## 2 综合描述



### 2.1 产品前景

现今有许多面向高校在校学生的大赛在我国举办。但是现有大赛平台的在校身份验证多采手工验证，效率极低。同时当竞赛参与人数多时，结束后获奖证书的发放工作量也很大。本产品为一个竞赛服务平台，提供参赛用户的竞赛报名、在校身份验证及获奖后带防伪功能的电子获奖证书领取，也支持竞赛举办方进行竞赛信息发布。

Contest+项目团队汲取市面上现有竞赛服务平台的优点如一站式服务、增值功能等，并改善页面逻辑混乱、身份验证等功能，以期为高校在学学生提供一个能够替代现有产品的全新竞赛服务产品。



### 2.2 产品功能

根据产品目的，Contest+提供了以下功能：

##### 一般用户：

![user_image](img/一般用户.png)

1. 用户可通过邮箱注册账号。
2. 用户可通过有效账号登录系统。
3. 用户可通过学信网在线验证码进行实名及大学生身份验证。
4. 用户如无法通过学信网验证，可申请手工验证。
5. 用户可以报名参加赛事。
6. 用户可以组队报名参加赛事。
7. 针对线上竞赛，参赛用户可以上传个人答题内容。
8. 针对线下竞赛，用户可以打印参赛凭证与参赛须知。
9. 参赛用户可以获取竞赛举办方的联系方式，或在站内直接联系。
10. 获奖用户可以获取荣誉证书。
11. 注册用户可以进行信息订阅、站内私信。
12. 注册用户可以关注各类课程资源、参与话题讨论。



##### 具有竞赛举办权限的用户：

![holder_image](img/竞赛主办方.png)

1. 具有竞赛举办权限的用户可以申请创建竞赛活动。
2. 管理竞赛的用户可以发布竞赛通知。
3. 管理竞赛的用户可以为线上竞赛添加试题。
4. 举办赛事的用户可以对竞赛评判成绩。
5. 举办竞赛的用户可以发布成绩。

各功能内的细项详列在第三部分的功能需求中。



### 2.3 用户特征

特征：

1. 参赛用户：具有较高学历的高校生，并且高校生用户身份繁杂，包含国内生源、港澳台学生、留学生等。
   * 希望能够在一个网站上较方便地浏览当前开展的赛事信息，并对有兴趣的竞赛进行进一步的详细信息确认。
   * 希望可以在确认竞赛内容后利用此产品方便地完成报名，并且后续也能够利用此服务网站进行作品提交、赛事动态确认等。
   * 希望可以查询到个人参赛及证书记录。
2. 竞赛主办方：竞赛主办方大多是较大型的教育或企业机构。
   * 希望能方便地发布支持自定义项的赛事信息，并完成对赛事的全过程管理，包含赛事开始前的宣传设置、赛事中的动态消息的发布，以及赛事后的数据沉淀。

经验：

1. 用户对于数码产品的使用有一定经验。
2. 用户熟悉对浏览器和微信小程序的基本操作。
3. 用户具备一定水平汉语能力。



### 2.4 一般性限制

##### 用户要求：

1. 产品开发周期大约为2-3个月。

##### 法律法规限制：

1. 需要保障用户的私密信息不外露。

##### 经费限制：

1. 项目没有额外经费，不可外包。

##### 可利用资源限制：

1. 本产品只有一台服务器。



根据上面的客观限制，我们在实现上也会有部分限制。

##### 实现限制：

实现上，本产品的形式主要有浏览器网页和微信小程序两种。

对于网页部分，实现上采前后端分离，程序栈包括：

1. 前端：	
   * Web框架：Vue 框架
   * UI组件：Vuetify 组件框架
   * 接口测试平台：YApi 接口管理平台
   * IDE：Visual Studio Code
   * 设计上力求简洁美观、导引清楚、以用户为中心
2. 后端：
   * 编程语言：Python 语言
   * Web 框架：Django 框架
   * IDE：PyCharm
   * 设计上需要符合RESTful api接口规范
   * 在传输时必须对用户敏感信息加密

数据库我们选择使用开源的 MySQL。MySQL 为关系型数据库，操作方便、维护上也较易理解，但其限制为高并发下IO压力大。同时基于对用户敏感信息的保护，我们必须对信息进行加密。

后续开发的微信小程序技术栈含JavaScript, WXML（微信标记语言）, WXSS等。



### 2.5 假设和依赖

**假设：**

1. 产品功能设计符合用户需求。若不符合最需要增改功能接口并且在前端进行相应的调整。
2. 由于需要传输用户的敏感信息，传输协议选择https保证传输过程的安全性。如果域名申领或https证书下发有问题则需要改成使用http传输，并且需要撰写算法对传输信息进行单向加密。

**依赖：**

1. 产品依赖学信网的API进行用户实名认证及高校生身份验证。
2. 后续若打算发布微信小程序，依赖微信小程序审核结果。



## 3.详细需求

### 3.1 功能需求

1. 具有竞赛举办权限的用户可以申请创建竞赛活动。

   1.1 系统应检验用户提交的竞赛信息是否完整合理，对不完整的申请不能通过、并给予相应的提示。

   1.2 系统应查询是否有相同模块的竞赛正在举办，对冲突的同模块竞赛申请不予通过。

   1.3 在用户具有相应权限且申请内容合法的情况下，系统创建一个由该用户管理的竞赛活动，并标记该竞赛模块正在举办。

2. 管理竞赛的用户可以发布竞赛通知。

   2.1 系统应查询相应竞赛是否在举办期内，对过期竞赛不允许发布通知。

   2.2 竞赛发布的第一个通知必须为报名通知，系统应进行验证、并在报名通知发布后使该竞赛对普通用户可见。

   2.3 在相应竞赛可发布通知的情况下，系统为其创建通知，并向关注或订阅该竞赛模块的用户进行推送。

3. 用户可通过邮箱注册账号。

   3.1 系统应验证邮箱的有效性，对无效的邮箱、已注册过的邮箱等不予注册。

   3.2 用户应提供包括密码在内的必要注册信息，对注册信息不完整的，系统应不予注册。

   3.3 系统应向有效邮箱发送验证码，注册用户应输入验证码以证明对邮箱的所有权。

   3.4 对注册信息有效、能提供验证码的注册请求，系统应予以通过，并按此信息创建一普通账号。

4. 用户可通过有效账号登录系统。

   4.1 系统应验证账号与密码的有效性，对不存在的账号或不匹配的密码，拒绝其登录。

   4.2 系统应允许账号与密码有效的账号登录。

   4.3 对无法登录的用户，系统应提供通过邮箱找回密码的功能。

5. 用户可通过学信网在线验证码进行实名及大学生身份验证。

   5.1 系统应通过学信网在线验证码获取实名信息，对无效的验证码不予通过，并给予用户明确的反馈。

   5.2 系统应查询有效的学信网在线验证码所提供的实名信息是否已绑定过账号，如已绑定过，则实名验证失败。

   5.3 系统应将有效的学信网在线验证码提供的信息与用户账号绑定，作为该账号后续参加所有赛事的凭据。系统应记录该实名信息所提供的大学生毕业时间，以实现大学生身份自动过期。

6. 用户如无法通过学信网验证，可申请手工验证。

   6.1 申请手工验证的用户应提交的有效的境外大学在读证明，由后台管理员进行手工核验。

   6.2 针对后台管理员的手工核验结果，应以通知或站内信的形式通知用户。

7. 用户可以报名参加赛事。

   7.1 系统应验证用户是否经过实名及大学生身份验证，未通过验证的不允许报名。

   7.2 系统应根据竞赛设置，为需要收费的赛事向用户收取报名费。

   7.3 对经过实名验证的用户，系统应通过报名（对于收费赛事还需完成缴费）并为其生成参赛记录或凭证。

8. 用户可以组队报名参加赛事。

   8.1 针对允许组队的竞赛项目，系统应提供组队报名功能。

   8.2 系统应验证欲参加组队的队员已经完成了实名及大学生身份验证，对未完成身份验证的用户，不允许其参加组队。

   8.3 针对组队成员信息正确且已完成身份验证的队伍，系统生成其参赛记录或凭证。

9. 针对线下竞赛，用户可以打印参赛凭证与参赛须知。

   9.1 对已报名参赛、且竞赛已进入线下环节的用户，系统允许其打印参赛凭证与参赛须知。

   9.2 对已报名参赛、竞赛前夕仍未打印必要材料的用户，系统应想起发送通知以进行提醒。

10. 管理竞赛的用户可以为线上竞赛添加试题。

    10.1 系统应为线上竞赛提供两种模式（收发文件或线上考试），用户添加试题前应进行具体设置。

    10.2 用户添加的试题需符合其自定义的比赛模式，否则系统应不予以添加。

    10.3 对于成功添加试题的竞赛，系统应生成相应记录、在比赛前向所有报名参赛人员发送通知。

11. 针对线上竞赛，参赛用户可以上传个人答题内容。

    11.1 用户上传的答题内容应符合线上竞赛所设置的要求，对不符合要求的上传内容，系统应不予保存、并提醒用户。

    11.2 对符合要求的上传内容，系统应标记为成功提交，并向用户和管理竞赛人员提供下载方式。

12. 参赛用户可以获取竞赛举办方的联系方式，或在站内直接联系。

    12.1 系统应向报名参赛的用户提供明确的举办方联系方式。

    12.2 对在参赛人员与举办方之间的站内信，系统应进行显著的通知与提醒。

    12.3 针对在站内联系的方式，系统应限制发信频率与次数，以过滤不必要的冗余信息。

13. 举办赛事的用户可以对竞赛评判成绩。

    13.1 针对线下竞赛或一部分手工评判的线上竞赛，举办赛事的用户可以手工录入或批量导入成绩。系统应在此环节进行一定的验证，对可能存在的输入错误进行显著提示，并拒绝不合法的输入。

    13.2 针对手工输入或批量导入的合法成绩，系统应予以保存，并使举办赛事的用户可以导出成绩。

    13.3 针对自动评分的线上竞赛，系统应允许竞赛举办人员修改成绩与导出成绩。

    13.4 系统应允许已有完整成绩的竞赛划分奖次，竞赛举办人员可手动评判、亦可由系统自动划分。竞赛结果可以导出。

14. 举办竞赛的用户可以发布成绩。

    14.1 针对已有最终成绩的竞赛，系统应允许竞赛举办人员发布成绩。

    14.2 针对已发布的竞赛成绩，系统应生成成绩页面并向参赛人员推送。

    14.3 系统提供可选的公示功能，允许参赛人员针对最终成绩或奖次进行申诉或反馈等。

15. 获奖用户可以获取荣誉证书。

    15.1 针对获奖用户，系统应生成一具备防伪功能的电子版证书并向获奖用户开放下载。

    15.2 系统应向举办竞赛的用户提供可选的纸质版证书批量导出功能，并对有纸质版证书的竞赛向获奖用户开放纸质版证书申请。

    15.3 针对申请纸质版证书的用户，系统应验证其是否提供了合法的邮寄地址，对不合法的邮寄地址，系统应予以拒绝并显著通知用户。

    15.4 针对申请纸质版证书且提供了合法邮寄地址的用户，系统应记录其邮寄地址并向举办竞赛的用户提供。

16. 注册用户可以进行信息订阅、站内私信。

    16.1 注册用户可以订阅各模块竞赛通知，针对订阅竞赛模块的用户，系统应在相应竞赛有新动态时向其进行推送通知。

    16.2 针对报名参赛的用户，系统应通过站内信或短信等形式向其推送竞赛动态。

    16.3 用户可以收发站内信。站内信应有在线上竞赛进行时暂时停用的功能。收到站内信的用户，应当在登录后收到系统推送的站内通知。

17. 注册用户可以关注各类课程资源、参与话题讨论。

    17.1 系统应提供一定的社区功能，通过提供学习资源与讨论社区，为用户提供更好的竞赛环境。

    17.2 系统应为部分收费资源提供付费渠道。系统应验证访问该资源的用户已经完成付费，对未付费的用户，系统应跳转至付费界面。

    17.3 系统应限制访问付费资源的用户复制页面内容的手段。

### 3.2 外部接口需求

- 用户界面

  1. 软件的前端部分将采用html页面的形式展现内容及响应用户交互。而后端及其它部分将只采用终端输出控制信息，不能进行交互。因此，如无特殊说明，本节的余下部分中所提到的“软件”、“系统”等术语均表示软件的前端部分。
  2. 软件需要至少640\*960的可用屏幕分辨率才能正常工作。但是，推荐的可用屏幕分辨率至少应为1920\*1080。在推荐的屏幕分辨率下，用户可以得到最佳体验。如果用户设备的分辨率小于推荐值，其视图、操作方式和可用的功能可能会受到限制或发生变化。此时，用户会收到关于切换到推荐分辨率的设备的提示。
  3. 通常，每个页面的顶部将包含软件的Logo，它可以导航到主页。此外，还会包括图形方式显示的用户中心、注销或登录按钮。但是，用户登录页面将不会显示用户中心按钮。软件的顶部还可以根据需要显示其它的内容，但不是必须的。
  4. 软件将采用Material设计风格，这一设计风格将对软件中按钮、文本框、链接等内容的样式和通常行为作出约定。
  5. 软件将禁用任何快捷键以避免可能的与浏览器或操作系统产生的冲突。为了减少禁用快捷键对用户使用造成的不便，软件的页面应设计的简洁，且主要功能应以醒目方式提醒用户，便于使用。醒目的提醒方式包括但不限于：更大的图标、加粗的文字、更明显的颜色与设计样式、将内容放置在页面的中央、动画效果。
  6. 错误信息的显示将因使用场景而异：
     - 当用户的屏幕低于最低要求时，将以文字的形式在页面上通知用户切换到具有更高分辨率的设备。用户此时不能与软件进行其它交互。
     - 当用户因填写的表单不符合要求而导致错误时，不符合要求的表单条目将通过醒目方式提请用户注意。一种可能的提醒方式是对应的表单条目以红色显示，在其下方显示错误原因（如，长度不符合要求），并配以抖动的动画效果。
     - 对于其它任何错误，将在顶部栏的下方或页面的底部显示Snackbar，或弹出对话框通知用户错误信息。如果发生的错误导致当前操作无法继续进行，软件可能会跳转至其它页面（如主页或登录页面）或变更当前可用的功能（如禁用上传功能）。

- 硬件接口

  1. 用户交互设备

     显示屏、键盘与各类指针设备，如鼠标、触摸板、触摸屏。这些设备的通信协议、规范等通常已由底层软件（如操作系统、驱动程序等）确定并为上层软件提供服务。软件只需要接收/发送经处理或封装后的数据即可。

  2. 磁盘读写设备和网络通信设备

     全部网络I/O将通过TCP协议传输。网络I/O将传输客户端或第三方发送的操作指令、提交的表单、上传的文件及其它数据，以及返回服务器的响应或数据。

     磁盘读写设备将用于服务器端的文件存储、数据库I/O、日志记录等。操作系统将会提供磁盘I/O接口与服务。

- 软件接口

  1. 软件暴露的接口

     - 后端接口

       软件在后端提供的接口通常供程序使用，其功能通常为登录、查看信息、提交信息，但一般通过https请求的方式完成，提交和返回的报文体通常是整型、字符串、JSON等便于程序解析的信息。**完整的功能接口将在后续的迭代版本中给出。**目前，只要求后端接口能通过protocol://hostname[:port]/api/somename访问。

     - 前端接口

       软件提供的前端接口可供一位实际的用户定位和浏览网站上的各类资源。同样，其功能为登录、查看信息、提交信息等。通常，用户提交的信息或执行的动作会被html页面中的代码解析成一定的html的请求交给服务器。但是，由服务器返回的信息通常为一个html页面，这些页面在被浏览器解析后将成为对用户友好的可视化图形界面。**完整的功能接口将在后续的迭代版本中给出。**目前，只要求前端接口能通过protocol://hostname[:port]/somename访问。

  2. 使用的外部接口

     - Mysql

       软件将使用Mysql提供的服务部署数据库，用于存储用户信息、用户提交的信息和页面信息等内容。信息交流格式将遵循Mysql的语法规范。Mysql的版本**将在后续的迭代版本中确认**。

     - Nginx

       软件将使用Nginx提供的服务配置Web服务器，它可以提供Web服务、Web缓存和负载均衡等功能。其版本**将在后续的迭代版本中确认**。

     - Docker

       软件将使用Docker部署全部项目文件。Docker提供了轻量级的服务，使得软件及所需的数据库等服务运行在容器中，它使得软件部署更为简便，且提高了软件的可移植性。其版本**将在后续的迭代版本中确认**。

     - 学信网

       软件将使用学信网提供的接口在线验证大学生在校身份。

     - 微信小程序

       根据**后续的开发进度和需要**，软件可能会提供微信小程序供用户使用。因此，软件也许会使用微信小程序的相关接口，具体需求**将在后续的迭代版本中确认**。

- 通信接口

  1. 当在网络上传输数据时，软件使用https协议进行通信。**根据实际情况，软件也可能采用http通信协议**。
  2. 如果使用http协议，软件使用混合加密方式对网络上传输的敏感信息加密。
  3. 与数据库通信时，敏感信息将只保存其摘要，降低数据库被拖库等行为对用户隐私的影响。

### 3.3 性能需求

- 硬件需求

  1. 具有200Mbps带宽的网络连接

  2. 25GB可用的磁盘存储空间

  3. 2G内存

- 性能指标
  1. 当软件使用指定的软件接口，运行在Ubuntu 20 LTS版本的64位操作系统上，且具有200Mbps带宽的稳定网络连接时，软件支持同时服务最多1000位客户。
  2. 在上述配置下，当软件同时服务的用户数不超过1000时，每位具有良好网络连接的用户的单次操作应在2.5秒内得到响应，与数据库的交互应在1秒内完成。
  3. 在上述配置下，软件可最多同时为15位用户提供文件上传/下载服务。在用户的带宽允许时，每位用户的传输带宽至多为32Mbps。如果可用带宽不足以为每个用户提供最高的传输速率，可用带宽将平均分配给每个用户。
  4. 平均意义上，软件的服务器端每日宕机时间小于30秒。

### 3.4 质量属性

- 易用性
  1. 软件是易用的，用户将可以便捷地在软件中找到自己需要的功能并进行对应的操作。

- 稳定性

  1. 服务器应能面多大多数的故障，即便遇到突发性故障，用户数据（如数据库中的信息）也不会丢失。

  2. 当网络连接较差时，软件仍会试图传输用户的数据或响应用户的请求，并在合理时间的尝试后（如15秒）向用户进行提示操作是否成功。

- 安全性

  1. 在网络上传输的任何敏感数据都不是明文的。
  2. 除非暴力破解，否则在传输过程中任何被拦截到的单个数据包无法被有效解析。
  3. 一个用户的数据被拦截并解析不会直接或间接泄露另外一个用户的加密信息。
  4. 数据库中的全部敏感数据只能存储摘要，任何人不能直接获取对应的明文数据。
  5. 当用户希望查询敏感数据/进行关键操作时，他必须验证自己的身份，验证过程中使用的信息将被加密。

### 3.5 其它需求

- 国际化需求
  1. 网站支持英文界面。

- 法律需求
  1. 网站的域名需要备案。
  2. 用户协议**（待完善）**。

- 管理员操作需求
  1. 网站支持人工审核用户。
  2. 获取统计信息，了解网站使用情况**（待完善）**。
  3. 管理员可以审批用户申请成为赛事发布者的请求。





## 索引

**（待迭代）**
